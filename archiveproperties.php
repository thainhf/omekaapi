<?php//กำหนดค่า Access-Control-Allow-Origin ให้ เครื่อง อื่น ๆ สามารถเรียกใช้งานหน้านี้ได้include_once("config_header.php");?><?php$requestMethod = $_SERVER["REQUEST_METHOD"];include_once("custom_function.php");//==========================include_once("config_url.php");//==========================//ตรวจสอบหากใช้ Method GET$dataArray = array();$dataArray2 = array();        //ตรวจสอบการส่งค่า id        $filter_cates="";        if(isset($_GET['class']) && !empty($_GET['class'])) {            $filter = $_GET['class'];            if (!empty($filter)) {                $vfilter = $filter;                $filter_array = explode(',', $vfilter);                $cat_no = "";                foreach ($filter_array as $key => $tag) {                    if ($tag == "Collection") {                        $cat_no = "23";                    } elseif ($tag == "Dataset") {                        $cat_no = "24";                    } elseif ($tag == "Event") {                        $cat_no = "25";                    } elseif ($tag == "Image") {                        $cat_no = "26";                    }                    $filter_cates = $filter_cates . "&resource_class_id[]=" . $cat_no;                }            } else {                $vfilter = "";            }        }            $vomekas_url = $config["omekas_url"];            $api_url = $vomekas_url . "properties?limit=0&offset=0".$filter_cates ;            $json_objekat = cal_curl_api($api_url);            if(!empty($json_objekat)) {                foreach ($json_objekat as $objQuote) {                    $o_id = $objQuote->o_id;                    $o_term = $objQuote->o_term;                    $o_label = $objQuote->o_label;                    //   $o_resource_class_arr = $objQuote->o_resource_class;//                echo "<pre>999=";//                print_r($objQuote);//                echo "</pre>";                    if($o_id != 1 && $o_id != 2 && $o_id != 5 && $o_id != 7 && $o_id != 8 && $o_id != 11  && $o_id != 12  && $o_id != 12  && $o_id != 13 && $o_id != 14  && $o_id != 16 && $o_id != 17 && $o_id != 20 && $o_id != 21 && $o_id != 22  && $o_id != 24  && $o_id != 25){                        $data = array(                            "id" => $o_id,                            "term" => $o_term,                            "label" => $o_label,                        );                        array_push($dataArray, $data);                    }                }            }            echo json_encode($dataArray);            //=========end===================================            if(empty($json_objekat)) {                $response = ['n.d.'];                echo json_encode($response);            }?>